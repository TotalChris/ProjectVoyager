<html>
    <head>
        <title>Voyager File Manager</title>
        <link rel="stylesheet" href="sift.css"/>

    </head>
    <body>

    <div id="titlewrapper">
        <div id="titlebar">
            <div id="bck_btn" onclick="ipcRenderer.send('bck')"><img src="./bin/img/bck.png"/></div>
            <div id="cls_btn" onclick="ipcRenderer.send('cls')"><img src="./bin/img/cls.png"/></div>
            <div id="rsz_btn" onclick="ipcRenderer.send('rsz')"><img src="./bin/img/max.png"/></div>
            <div id="min_btn" onclick="ipcRenderer.send('min')"><img src="./bin/img/min.png"/></div>
        </div>
    </div>
        <div id="top-bar">        
            <input type="text" id="pathbox" onkeydown=""></input>
            <input type="button" id="gobutton" value="Go">
        </div>
        <div id="content-box-holder">
            <div id="filelist">

            </div>
        </div>
        <script src='mav.lib.js' type="module"></script>
        <script src='item.comp.js'></script>
        <script>
            const { ipcRenderer } = require('electron');
            const { fs } = require('fs');
            const mav = require('./mav.lib.js')
            ipcRenderer.on('maxd', () => {
                document.getElementById('rsz_btn').innerHTML='<img src="./bin/img/res.png"/>';
                console.log('maximized on renderer');
            });
            ipcRenderer.on('resd', () => {
                document.getElementById('rsz_btn').innerHTML='<img src="./bin/img/max.png"/>';
                console.log('resized on renderer');
            });
            function textFieldKeyHandler(event) {
                if (event.key === 'Enter') {
                    mav.navigate(document.getElementById('pathbox').value)
                }
                else {}
            }
            pathbox.addEventListener('keydown', (event) => {textFieldKeyHandler(event)})
            document.querySelector('#gobutton').addEventListener('click', () => {mav.navigate(document.querySelector('#pathbox').value)});
            document.body.addEventListener('load', () => {mav.navigate('C:/')})
        </script>
    </body>
</html>
